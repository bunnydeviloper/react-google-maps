{"version":3,"sources":["components/GoogleMaps.js","components/SidePanel.js","App.js","serviceWorker.js","index.js"],"names":["FS_VERSION","FS_CLIENT_ID","FS_SECRET","MapDisplay","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","map","markers","markerProps","activeMarker","activeMarkerProps","showingInfoWindow","componentDidMount","window","addEventListener","event","console","log","reason","preventDefault","gm_authFailure","componentWillReceiveProps","props","setState","firstDrop","locations","closeInfoWindow","updateMarkers","selectedIndex","onMarkerClicked","onMapReady","forEach","marker","setMap","eachLocation","index","mProps","key","name","position","pos","url","push","google","maps","Marker","animation","Animation","DROP","addListener","getBusinessInfo","data","response","venues","filter","item","includes","e","lat","lng","headers","Headers","request","Request","method","fetch","then","json","result","attractionLoc","objectSpread","foursquare","id","status","error","alert","images","photos","setAnimation","BOUNCE","catch","inherits","createClass","value","center","amProps","react_default","a","createElement","dist","role","aria-label","onReady","zoom","style","width","height","initialCenter","onClick","visible","onClose","href","alt","src","items","prefix","suffix","Component","GoogleApiWrapper","apiKey","SidePanel","open","query","styles","list","padding","noBullets","listStyleType","fullList","listItem","marginBottom","listLink","background","border","color","filterEntry","margin","updateQuery","newQuery","onChangeNewQuery","_this2","Drawer_default","toggleSidePanel","type","placeholder","onChange","target","eachLoc","clickListItem","App","allLocations","filtered","menuButton","marginLeft","marginRight","left","top","hide","display","header","marginTop","filterLocations","toLowerCase","className","GoogleMaps","SidePanel_SidePanel","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","src_App_0","document","getElementById","URL","process","origin","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c0192042.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Map, InfoWindow,  GoogleApiWrapper } from 'google-maps-react';\n// import NoMapDisplay from './NoMapDisplay';\n\nconst MAP_KEY = \"AIzaSyCzZvujlnTYKZGkoiQTbFV1Ghr7yM14IEA\";\nconst FS_VERSION = \"20181128\";\nconst FS_CLIENT_ID = \"VKIWAKGQ2NHXSEZBFKIK5E0VNZTRJKGW14MD21SNE2BZFYGH\";\nconst FS_SECRET = \"HZCUYWHRO1GYI3X1SQ5OAD2YYBM1FUKTZU1RUX4JPENRDPEB\";\n\nexport class MapDisplay extends Component {\n  state = {\n    map: null,\n    markers: [],\n    markerProps: [],\n    activeMarker: null,\n    activeMarkerProps: null,\n    showingInfoWindow: false\n  }\n\n  gm_authFailure() {\n    window.alert(\"Google Maps authentication failed! Please check your API key.\");\n  }\n\n  componentDidMount = () => {\n    window.addEventListener(\"unhandledrejection\", function (event) {\n      console.log(event.reason);\n      event.preventDefault();\n    })\n    window.gm_authFailure = () => this.gm_authFailure();\n  }\n\n  componentWillReceiveProps = (props) => {\n    this.setState({ firstDrop: false });\n\n    // update markers according to search filtered result\n    if (this.state.markers.length !== props.locations.length) {\n      this.closeInfoWindow();\n      this.updateMarkers(props.locations);\n      this.setState({ activeMarker: null });\n      return;\n    }\n    // if the selected item is not the same as the active marker, close the info window\n    if (!props.selectedIndex || (this.state.activeMarker &&\n      (this.state.markers[props.selectedIndex] !== this.state.activeMarker))) {\n      this.closeInfoWindow();\n    }\n    // if nothing is selected, don't do anything\n    if (props.selectedIndex === null || typeof(props.selectedIndex) === \"undefined\") {\n      return;\n    };\n\n    this.onMarkerClicked(this.state.markerProps[props.selectedIndex], this.state.markers[props.selectedIndex]);\n  }\n\n  onMapReady = (props, map) => {\n    this.setState({ map });\n    this.updateMarkers(this.props.locations);\n  }\n\n  updateMarkers = (locations) => {\n    if (!locations) return;\n    // remove any existing markers\n    this.state.markers.forEach(marker => marker.setMap(null));\n\n    let markerProps = [];\n    let markers = locations.map((eachLocation, index) => {\n      let mProps = {\n        key: index,\n        index,\n        name: eachLocation.name,\n        position: eachLocation.pos,\n        url: eachLocation.url\n      }\n      markerProps.push(mProps);\n\n      let marker = new this.props.google.maps.Marker({\n        position: eachLocation.pos,\n        map: this.state.map,\n        animation: this.state.firstDrop ? this.props.google.maps.Animation.DROP : null\n      });\n      marker.addListener('click', () => {\n        this.onMarkerClicked(mProps, marker, null);\n      });\n      return marker;\n    });\n\n    this.setState({ markers, markerProps });\n  }\n\n  getBusinessInfo = (props, data) => {\n    // filter the data result from foursquare fetch fn to make sure it matches our location's data\n    return data.response.venues.filter(item => item.name.includes(props.name) || props.name.includes(item.name));\n  }\n\n  onMarkerClicked = (props, marker, e) => {\n    this.closeInfoWindow();\n\n    let url = `https://api.foursquare.com/v2/venues/search?client_id=${FS_CLIENT_ID}\n      &client_secret=${FS_SECRET}&v=${FS_VERSION}&radius=100&ll=${props.position.lat},\n      ${props.position.lng}&llAcc=100`;\n    let headers = new Headers();\n    let request = new Request(url, { method: 'GET', headers });\n\n    let activeMarkerProps;\n    fetch(request)\n      .then(response => response.json())\n      .then(result => {\n        let attractionLoc = this.getBusinessInfo(props, result);\n        activeMarkerProps = {\n          ...props,\n          foursquare: attractionLoc[0]\n        };\n\n        // get image of location from the initial foursquare fetch request above\n        if (activeMarkerProps.foursquare) {\n          let url = `https://api.foursquare.com/v2/venues/${attractionLoc[0].id}/photos?client_id=\n            ${FS_CLIENT_ID}&client_secret=${FS_SECRET}&v=${FS_VERSION}`;\n          fetch(url)\n            .then(response => {\n\t      if (response.status === 200) return response.json();\n\t      else return { error: 'There was an error with FourSquare photos request.'};\n\t      })\n            .then(result => {\n\t      if (result.error) window.alert(result.error);\n\t      else {\n                activeMarkerProps = {\n                  ...activeMarkerProps,\n                  images: result.response.photos\n                }\n\n                if (this.state.activeMarker) this.state.activeMarker.setAnimation(null);\n                marker.setAnimation(this.props.google.maps.Animation.BOUNCE);\n                // const img = \"https://3.bp.blogspot.com/-S9XfyKnuKms/WNnrWwV-YZI/AAAAAAAADUs/L3m49TTbPYElBrBSbj4wXxv0sSazxtbggCLcB/s1600/sticker1.png\";\n                // activeMarkerProps.icon = img;\n                this.setState({ showingInfoWindow: true, activeMarker: marker, activeMarkerProps });\n\t      }\n            })\n\t    .catch(error => {\n\t      window.alert(error);\n\t    });\n        } else {\n          marker.setAnimation(this.props.google.maps.Animation.BOUNCE);\n          this.setState({ showingInfoWindow: true, activeMarker: marker, activeMarkerProps });\n        }\n      })\n      .catch(error => {\n\twindow.alert(error + '. Please check Foursquare authentication.');\n      });\n  }\n\n  closeInfoWindow = () => {\n    // disable any active marker animation\n    this.state.activeMarker && this.state.activeMarker.setAnimation(null);\n    this.setState({ showingInfoWindow: false, activeMarker: null, activeMarkerProps: null });\n  }\n\n  render() {\n    const style = {\n      width: '100%',\n      height: '80%'\n    }\n    const center = {\n      lat: this.props.lat,\n      lng: this.props.lng\n    }\n    let amProps = this.state.activeMarkerProps; // active marker props\n\n    return (\n      <Map\n        role=\"application\"\n        aria-label=\"map\"\n        onReady={this.onMapReady}\n        google={this.props.google}\n        zoom={this.props.zoom}\n        style={style}\n        initialCenter={center}\n        onClick={this.closeInfoWindow}\n      >\n        <InfoWindow\n          marker={this.state.activeMarker}\n          visible={this.state.showingInfoWindow}\n          onClose={this.closeInfoWindow}\n        >\n          <div>\n            {amProps && amProps.url\n                ? (\n                  <div>\n                    <a href={amProps.url}><h3>{amProps.name}</h3></a>\n                  </div>\n                )\n                : <h3>{amProps && amProps.name}</h3> }\n                {amProps && amProps.images\n                    ? (\n                      <div>\n                        <img\n                          alt={amProps.name + \" picture\"}\n                          src={amProps.images.items[0].prefix + \"80x80\" + amProps.images.items[0].suffix}/>\n                        <p>Image from Foursquare</p>\n                      </div>\n                    )\n                    : \"\" }\n                  </div>\n                </InfoWindow>\n              </Map>\n    );\n  }\n}\n\nexport default GoogleApiWrapper({ apiKey: MAP_KEY /*, LoadingContainer: NoMapDisplay*/ })(MapDisplay)\n\n// credit: https://github.com/fullstackreact/google-maps-react\n","import React, { Component } from 'react';\nimport Drawer from '@material-ui/core/Drawer';\n\nexport default class SidePanel extends Component {\n  state = {\n    open: false,\n    query: \"\"\n  }\n\n  styles = {\n    list: {\n      width: \"250px\",\n      padding: \"0px 15px 0px\"\n    },\n    noBullets: {\n      listStyleType: \"none\",\n      padding: 0\n    },\n    fullList: {\n      width: 'auto'\n    },\n    listItem: {\n      marginBottom: \"15px\"\n    },\n    listLink: {\n      background: \"transparent\",\n      border: \"none\",\n      color: \"black\"\n    },\n    filterEntry: {\n      border: \"1px solid gray\",\n      padding: \"3px\",\n      margin: \"30px 0px 10px\",\n      width: \"100%\"\n    }\n  }\n\n  updateQuery = (newQuery) => {\n    this.setState({ query: newQuery });\n    this.props.onChangeNewQuery(newQuery);\n  }\n\n  render() {\n    return (\n      <div>\n        <Drawer open={this.props.open} onClose={this.props.toggleSidePanel}>\n          <div style={this.styles.list}>\n            <input\n\t      aria-label=\"search\"\n              style={this.styles.filterEntry}\n              type=\"text\"\n              placeholder=\"search related places...\"\n              name=\"filter\"\n              onChange={e => this.updateQuery(e.target.value)}\n              value={this.state.query}\n            />\n            <ul style={this.styles.noBullets}\n              aria-label=\"list of locations\"\n            >\n              {this.props.locations && this.props.locations.map((eachLoc, index) => {\n                return (\n                  <li style={this.styles.listItem} key={index}>\n                    <button style={this.styles.listLink} key={index}\n                      onClick={e => this.props.clickListItem(index)}>{eachLoc.name}</button>\n                  </li>\n                )\n              })}\n            </ul>\n          </div>\n        </Drawer>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport locations from './data/locations';\n\nimport GoogleMaps from './components/GoogleMaps';\nimport SidePanel from './components/SidePanel';\n\nclass App extends Component {\n  state = {\n    lat: 47.6205063,\n    lng: -122.3514661,\n    zoom: 13,\n    allLocations: locations,\n    open: false,\n    filtered: null\n  }\n\n  styles = {\n    menuButton: {\n      marginLeft: 10,\n      marginRight: 20,\n      position: \"absolute\",\n      left: 10,\n      top: 10,\n      background: \"white\",\n      padding: 10,\n    },\n    hide: {\n      display: \"none\"\n    },\n    header: {\n      marginTop: \"0px\"\n    }\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      ...this.state,\n      filtered: this.filterLocations(this.state.allLocations, \"\")\n    });\n  }\n\n  toggleSidePanel = () => {\n    this.setState({ open: !this.state.open });\n  }\n\n  filterLocations = (locations, query) => {\n    return locations.filter(eachLoc => eachLoc.name.toLowerCase().includes(query.toLowerCase()));\n  }\n\n  updateQuery = (query) => {\n    this.setState({\n      ...this.state,\n      selectedIndex: null,\n      filtered: this.filterLocations(this.state.allLocations, query)\n    });\n  }\n\n  clickListItem = (index) => {\n    this.setState({ selectedIndex: index, open: !this.state.open })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header>\n          <button onClick={this.toggleSidePanel} style={this.styles.menuButton} aria-label=\"toggle side panel\">\n            <i className=\"fa fa-bars\"></i>\n          </button>\n          <h1>React Neighborhood Map Project</h1>\n        </header>\n        <GoogleMaps\n          lat={this.state.lat}\n          lng={this.state.lng}\n          zoom={this.state.zoom}\n          locations={this.state.filtered}\n          selectedIndex={this.state.selectedIndex}\n          clickListItem={this.clickListItem}\n        />\n\n        <SidePanel\n          locations={this.state.filtered}\n          open={this.state.open}\n          toggleSidePanel={this.toggleSidePanel}\n          onChangeNewQuery={this.updateQuery}\n          clickListItem={this.clickListItem}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}